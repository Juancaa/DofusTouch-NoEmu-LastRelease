{"version":3,"sources":["../src/browser/app/main/game/mods/hide-shop/hide-shop.ts"],"names":[],"mappings":";;AAGA;IAKI,YAAqB,KAAmB,EAAU,WAAoB;QAAjD,UAAK,GAAL,KAAK,CAAc;QAAU,gBAAW,GAAX,WAAW,CAAS;QAF9D,WAAM,GAAe,EAAE,CAAC;QAM5B,IAAI,MAAM,GAAG;YACT,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;gBACjB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;YAC9C,IAAI;gBACA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;QAClD,CAAC,CAAC;QAIF,IAAI,GAAG,GAAG;YACN,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YACnD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACb,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YACnE,CAAC,CAAC,CAAC;YAGH,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC;QAIF,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC;YAC3B,GAAG,EAAE,CAAC;QAGV,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACb,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YACpD,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAGM,KAAK;QACR,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK;YACtB,KAAK,EAAE,CAAC;QACZ,CAAC,CAAC,CAAA;IACN,CAAC;CACJ;AAhDD,4BAgDC","file":"hide-shop.js","sourcesContent":["/**\n * This mod add the possibility to hide the floating shop button\n */\nexport class HideShop {\n\n    // Keep track of all event to remove\n    private events: Array<any> = [];\n\n    constructor (private wGame: any | Window, private hidden_shop: boolean) {\n\n        // That function shows or hides the shop button\n        // depending on the variable \"hidden_shop\"\n        let toggle = () => {\n            if (this.hidden_shop)\n                this.wGame.gui.shopFloatingToolbar.hide();\n            else\n                this.wGame.gui.shopFloatingToolbar.show();\n        };\n\n        // Funcion to run at the begining\n        // Toggle the shop button at the end of a fight\n        let run = () => {\n            this.wGame.gui.fightManager.on('fightEnd', toggle);\n            this.events.push(() => { \n                this.wGame.gui.fightManager.removeListener(\"fightEnd\", toggle);\n            });\n\n            // At the begining, toggle the shop button\n            setTimeout(toggle, 1000);\n        };\n\n        // If the gui is already connected (after a reset)\n        // Just run\n        if (this.wGame.gui.isConnected)\n            run();\n\n        // Else, wait the character to be connected to run\n        else {\n            this.wGame.gui.on('connected', run);\n            this.events.push(() => {\n                this.wGame.gui.removeListener(\"connected\", run);\n            });\n        }\n    }\n\n    // Reset the mod\n    public reset() {\n        this.events.forEach((event) => {\n            event();\n        })\n    }\n}"]}