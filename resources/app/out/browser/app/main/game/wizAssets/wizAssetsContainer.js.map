{"version":3,"sources":["../src/browser/app/main/game/wizAssets/wizAssetsContainer.ts"],"names":[],"mappings":";;AAEA,2CAAsC;AAEtC,MAAM,GAAG,GAAS,MAAO,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;AAE7D;IAII,YAAY,KAAmB,EAAE,kBAAsC,EAAE,IAAS,EAAE,OAAuB;QACvG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QAInB,sBAAsB,GAAU;YAC5B,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;QACtD,CAAC;QAED,oBAAoB,GAAU,EAAE,IAAW,EAAE,OAAc;YACvD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;QACrE,CAAC;QAED,EAAE,CAAA,CAAC,OAAO,CAAC,aAAa,CAAC,CAAA,CAAC;YACtB,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACnC,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,GAAC,WAAW,CAAC;YAEpD,SAAS,GAAG,UAAU,CAAC,SAAS,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;YAE7C,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,qBAAS,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC1D,CAAC;IACL,CAAC;CACJ;AA1BD,gDA0BC","file":"wizAssetsContainer.js","sourcesContent":["import {ApplicationService} from \"../../../../shared/electron/application.service\";\nimport {Http} from \"@angular/http\";\nimport {WizAssets} from \"./wizAssets\";\nimport {Option} from \"../../../../shared/settings/settings.service\";\nconst app = (<any>global).nodeRequire('electron').remote.app;\n\nexport class WizAssetsContainer {\n\n    private wGame: any | Window;\n\n    constructor(wGame: any | Window, applicationService: ApplicationService, http:Http, general: Option.General) {\n        this.wGame = wGame;\n\n\n\n        function escapeRegExp(str:string) {\n            return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"); // $& means the whole matched string\n        }\n\n        function replaceAll(str:string, find:string, replace:string) {\n            return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n        }\n\n        if(general.local_content){\n            console.info('- wizAssets enable');\n            let cachePath = app.getPath('userData')+'/wizCache';\n\n            cachePath = replaceAll(cachePath, '\\\\', '/');\n\n            this.wGame.wizAssets = new WizAssets(cachePath, http);\n        }\n    }\n}"]}