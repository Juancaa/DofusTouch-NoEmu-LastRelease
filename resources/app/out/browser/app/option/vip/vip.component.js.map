{"version":3,"sources":["../src/browser/app/option/vip/vip.component.ts"],"names":[],"mappings":"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","file":"vip.component.js","sourcesContent":["import { Component, TemplateRef, ViewChild } from '@angular/core';\nimport { SettingsService } from './../../../shared/settings/settings.service';\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\nimport { Http } from \"@angular/http\";\nimport { ApplicationService } from \"../../../shared/electron/application.service\";\nimport { TranslateService } from \"ng2-translate\";\nimport { PromptService } from \"../../../shared/utils/prompt.service\";\n\nconst { shell, app } = (<any>global).nodeRequire('electron').remote;\n\n@Component({\n    selector: 'option-shortcuts',\n    templateUrl: 'app/option/vip/vip.component.html',\n    styleUrls: ['app/option/vip/vip.component.css'],\n    host: {}\n})\nexport class VipComponent {\n\n    @ViewChild('authentication') authTmpl: TemplateRef<any>;\n    @ViewChild('main') mainTmpl: TemplateRef<any>;\n    @ViewChild('modal') modalTmpl: TemplateRef<any>;\n\n    private vip_id: string;\n\n    constructor(\n        private settingsService: SettingsService,\n        private modalService: NgbModal,\n        private applicationService: ApplicationService,\n        private translate: TranslateService,\n        private promptService: PromptService,\n        private http: Http\n    ) { }\n\n    getTemplate() {\n        if (!this.applicationService.vipStatus) {\n            return this.authTmpl;\n        } else {\n            return this.mainTmpl;\n        }\n\n    }\n\n    goDiscord(event: any) {\n        shell.openExternal('https://discordapp.com/invite/rCawwmD');\n        event.preventDefault();\n    }\n\n    goTipeee(event: any) {\n        shell.openExternal('https://www.tipeee.com/dtne');\n        event.preventDefault();\n    }\n\n    requestVipId() {\n\n        let self = this;\n        let status = [null, 'Tiwabbit', 'Wabbit', 'Grand Pa Wabbit', '42', 'Boss Wa Wabbit', 'Cresus MasterRace'];\n        let labelStatut: string;\n\n        this.promptService.custom({\n            title: this.translate.instant(\"app.option.vip.authentication.prompt.title.write-code\"),\n            input: 'text',\n            showCancelButton: true,\n            confirmButtonText: this.translate.instant(\"app.option.vip.authentication.prompt.button.send-code\"),\n            cancelButtonText: this.translate.instant(\"app.option.vip.authentication.prompt.button.cancel\"),\n            showLoaderOnConfirm: true,\n            preConfirm: function (vipId) {\n\n                return new Promise(function (resolve, reject) {\n\n                    if (vipId == \"\") { reject(self.translate.instant(\"app.option.vip.authentication.prompt.text.empty-code\")); return false; }\n\n                    self.http.get(`${self.applicationService.website}/tipeee.php?vip_id=${vipId}`).map(res => res.json()).subscribe((data) => {\n\n                        if (data.status) {\n\n                            labelStatut = status[data.status];\n                            self.settingsService.vip_id = vipId;\n\n                            resolve();\n\n                        } else {\n\n                            self.promptService.alert({ html: self.translate.instant(\"app.option.vip.authentication.prompt.text.bad-code\") })\n                        }\n                    });\n                })\n            },\n        }).then(function (vipId) {\n\n            self.promptService.success({\n\n                title: self.translate.instant(\"app.option.vip.authentication.prompt.title.success\"),\n                html: self.translate.instant(\"app.option.vip.authentication.prompt.text.success\", { value1: labelStatut }),\n\n                confirmButtonText: self.translate.instant(\"app.option.vip.authentication.prompt.button.reboot\"),\n                confirmButtonClass: 'btn btn-primary flat btn-lg spacing-left',\n\n                showCancelButton: true,\n                cancelButtonText: self.translate.instant(\"app.option.vip.authentication.prompt.button.stand-here\"),\n                cancelButtonClass: 'btn btn-default flat btn-lg'\n\n            }).then(function () {\n\n                app.relaunch();\n                app.quit();\n\n            }, (dismiss) => { /*Si tu clique sur \"Rester là\" ou si la promesses est rejeté. */ });\n\n        }, (dismiss) => { });\n\n    }\n}\n"]}